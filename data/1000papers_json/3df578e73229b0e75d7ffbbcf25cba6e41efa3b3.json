{"paper_id": "3df578e73229b0e75d7ffbbcf25cba6e41efa3b3", "metadata": {"title": "Safe contact tracing for COVID-19: A method without privacy breach using functional encryption techniques based-on spatio-temporal trajectory data", "authors": [{"first": "Wooil", "middle": [], "last": "Kim", "suffix": "", "affiliation": {"laboratory": "", "institution": "Korea University", "location": {"settlement": "Seoul", "country": "Republic of Korea"}}, "email": ""}, {"first": "Hyubjin", "middle": [], "last": "Lee", "suffix": "", "affiliation": {"laboratory": "", "institution": "Korea University", "location": {"settlement": "Seoul", "country": "Republic of Korea"}}, "email": ""}, {"first": "Yon", "middle": [], "last": "Dohn", "suffix": "", "affiliation": {"laboratory": "", "institution": "Korea University", "location": {"settlement": "Seoul", "country": "Republic of Korea"}}, "email": ""}, {"first": "Chung", "middle": [], "last": "", "suffix": "", "affiliation": {"laboratory": "", "institution": "Korea University", "location": {"settlement": "Seoul", "country": "Republic of Korea"}}, "email": "*ydchung@korea.ac.kr"}]}, "abstract": [{"text": "The COVID-19 pandemic has spread all over the globe. In", "cite_spans": [], "ref_spans": [], "section": "Abstract"}], "body_text": [{"text": "As of June 2020, the ongoing pandemic of coronavirus disease 2019, abbreviated as 2 \"COVID-19\", has caused more than 7 million cases and 0.4 million deaths over 188 3 countries and territories [1] . Each country has reacted to prevent the epidemic spreads 4 with their ways; Countries in the Schengen area have restricted free movement [2] , and 5 Sweden has remained open in an attempt to reach herd immunity [3] . Despite their 6 hard work, only a few countries have kept well-controlled the epidemic spread. the patient get tests voluntarily or enforcedly (5) . If the contacts are tested as positive 23 (6a), the same loop is repeated and negative contacts are observed and recommended to 24 be self-quarantined (6b). With this system, the government of South Korea reported 25 the lowest number of new cases on 23 March [9] . However, the system also has caused 26 serious privacy problems. Though patients' identifiers (e.g., name) are not open to the 27 public, their privacy has been breached in some extents. The privacy leakage often 28 occurs in the process of disclosing the trajectory to the public. In Fig. 2 , when 29 disclosing the trajectory to public (3), tracing the detected contacts (4a), and 30 undetected contacts (4b) the privacy problem may occur because the travel route data 31 contain information about individuals' privacy [10] . 32 Commercial [11] and academic [12] solutions have been released for COVID-19 33 contact tracing. Utilizing these applications and research, people can check whether 34 they have been exposed to the risk of being infected or not. TraceTogether [11] provides 35 secure contact tracing method based on Bluetooth, however, a privacy problem has been 36 issued [13] . Also, He et al. [12] proposed a contact tracing query and its processing 37 method, but the privacy leakage problem is not considered.", "cite_spans": [{"start": 193, "end": 196, "text": "[1]", "ref_id": "BIBREF0"}, {"start": 336, "end": 339, "text": "[2]", "ref_id": "BIBREF1"}, {"start": 410, "end": 413, "text": "[3]", "ref_id": "BIBREF2"}, {"start": 825, "end": 828, "text": "[9]", "ref_id": "BIBREF8"}, {"start": 1352, "end": 1356, "text": "[10]", "ref_id": "BIBREF9"}, {"start": 1359, "end": 1361, "text": "32", "ref_id": null}, {"start": 1373, "end": 1377, "text": "[11]", "ref_id": null}, {"start": 1391, "end": 1395, "text": "[12]", "ref_id": "BIBREF11"}, {"start": 1438, "end": 1440, "text": "33", "ref_id": null}, {"start": 1604, "end": 1608, "text": "[11]", "ref_id": null}, {"start": 1717, "end": 1721, "text": "[13]", "ref_id": "BIBREF12"}, {"start": 1740, "end": 1744, "text": "[12]", "ref_id": "BIBREF11"}], "ref_spans": [{"start": 1116, "end": 1122, "text": "Fig. 2", "ref_id": null}], "section": ""}, {"text": "No consideration of privacy even decreases the efficiency of epidemic controls 39 because the suspected contacts might refuse to take infection tests because they are 40 afraid of privacy breach. In the absence of vaccine, the importance of contact tracing 41 will increase further. In this paper, we propose a privacy-preserving contact tracing 42 method without privacy breaches. The contributions of this paper are as follows.", "cite_spans": [], "ref_spans": [], "section": "38"}, {"text": "\u2022 We propose a privacy-preserving contact tracing method based on people's 44 trajectory data. ", "cite_spans": [], "ref_spans": [], "section": "43"}, {"text": "\u2022 We enhance the performance of the query processing via parallel processing and 53 optimization techniques.", "cite_spans": [], "ref_spans": [], "section": "52"}, {"text": "-The functional encryption scheme requires a huge processing time, especially 55 during the decryption step. The complexity is known as O(n 2 ), where n is 56 the domain size. In order to tackle this, we propose a numeric decomposition 57 method which divides numeric values of time and location into digits and 58 encrypts them separately. In addition, we develop a multi-core, parallel 59 processing algorithm with which the processing of contact tracing can be 60 done significantly fast.", "cite_spans": [{"start": 78, "end": 80, "text": "55", "ref_id": null}], "ref_spans": [], "section": "54"}, {"text": "\u2022 We implement a system to visualize the workflow of contacts tracing process, June 26, 2020 3/16 . CC-BY-ND 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity. (which was not certified by peer review)", "cite_spans": [], "ref_spans": [], "section": "61"}, {"text": "The copyright holder for this preprint this version posted July 5, 2020. .", "cite_spans": [], "ref_spans": [], "section": "61"}, {"text": "Contact tracing methods for COVID-19 71 Several approaches have been proposed for preventing the spread of COVID-19. Canetti 72 et al. [14] argued that the GPS-based proximity detection methods involve an error 73 inside a building and proposed the method based on Bluetooth. Bluetooth can be a 74 solution for the indoor proximity detection, however, [14] needs an installed application 75 in the devices to store and compute users' data. Singapore's TraceTogether 76 application [11] , also works based on Bluetooth. However, [13] showed that the users' 77 infection status and the identifiers are revealed in TraceTogether. Other Bluetooth 78 based methods [15, 16] were proposed considering the privacy. However, all such 79 methods require an additional device or installed application to store and compute the 80 data [14] [15] [16] , or jeopardize the users' privacy [11] . He et al. propose a new contact 81 tracing method based on trajectory similarity queries [12] . They developed a spatial 82 index (SPT) to reduce I/O and data redundancy. However, the privacy breaches are not 83 considered.", "cite_spans": [{"start": 37, "end": 39, "text": "71", "ref_id": null}, {"start": 135, "end": 139, "text": "[14]", "ref_id": "BIBREF13"}, {"start": 352, "end": 356, "text": "[14]", "ref_id": "BIBREF13"}, {"start": 481, "end": 485, "text": "[11]", "ref_id": null}, {"start": 528, "end": 532, "text": "[13]", "ref_id": "BIBREF12"}, {"start": 660, "end": 664, "text": "[15,", "ref_id": "BIBREF14"}, {"start": 665, "end": 668, "text": "16]", "ref_id": "BIBREF15"}, {"start": 824, "end": 828, "text": "[14]", "ref_id": "BIBREF13"}, {"start": 829, "end": 833, "text": "[15]", "ref_id": "BIBREF14"}, {"start": 834, "end": 838, "text": "[16]", "ref_id": "BIBREF15"}, {"start": 874, "end": 878, "text": "[11]", "ref_id": null}, {"start": 970, "end": 974, "text": "[12]", "ref_id": "BIBREF11"}], "ref_spans": [], "section": "70"}, {"text": "Functional encryption 85 In a functional encryption system [17] , a user is allowed to compute a function F of a 86 ciphertext ct x (i.e. encrypted version of plain text x) so that the results are available.", "cite_spans": [{"start": 22, "end": 24, "text": "85", "ref_id": null}, {"start": 59, "end": 63, "text": "[17]", "ref_id": "BIBREF16"}], "ref_spans": [], "section": "84"}, {"text": "In other words, a functionality F of ct x returns the same result of the function of x.", "cite_spans": [], "ref_spans": [], "section": "87"}, {"text": "Clearly, a functional encryption system guarantees a plaintext x is never disclosed in the 89 process of functionality F . For example, an encrypted dataset and a function with 90 secret key will return only the sum of the dataset.", "cite_spans": [], "ref_spans": [], "section": "88"}, {"text": "Our goal is to compute the distance between the two encrypted entities. We adopt ", "cite_spans": [], "ref_spans": [], "section": "91"}, {"text": "We define the trajectory as a set of spatio-temporal locations of people. A location may 102 be either a pair of (x, y) coordinate such as longitude and latitude, or a location ID such 103 as the restaurant name. ", "cite_spans": [], "ref_spans": [], "section": "101"}, {"text": "is a timestamp, 106 and n is the length of trajectory.", "cite_spans": [], "ref_spans": [], "section": "101"}, {"text": "In an encrypted set of trajectories, all spatial points p i and timestamps s i are encrypted. 108 Only the objects' IDs are preserved. We use the Gowalla Check-in dataset [18] for conducting experiments and . CC-BY-ND 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.", "cite_spans": [{"start": 171, "end": 175, "text": "[18]", "ref_id": "BIBREF17"}], "ref_spans": [], "section": "107"}, {"text": "The copyright holder for this preprint this version posted July 5, 2020. . As the numeric decomposition (ND) is applied, the decryption time increases linearly as 122 the number of unique values increases ( Table 2) . We describe our privacy-preserving contact tracing workflow in Fig. 3 . First, the 125 trajectories are collected from various sources (e.g. card payment, mobile GPS, and self 126 report). Trajectory data are stored in secured data collectors in an encrypted manner. 127 If a query (i.e., infected person's trajectory data and a time threshold) is given, the . CC-BY-ND 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.", "cite_spans": [], "ref_spans": [{"start": 207, "end": 215, "text": "Table 2)", "ref_id": "TABREF1"}, {"start": 281, "end": 287, "text": "Fig. 3", "ref_id": null}], "section": "(which was not certified by peer review)"}, {"text": "The copyright holder for this preprint this version posted July 5, 2020. . ", "cite_spans": [], "ref_spans": [], "section": "(which was not certified by peer review)"}, {"text": "The process of privacy-preserving contact tracing is described in Algorithm 1. is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.", "cite_spans": [], "ref_spans": [], "section": "(which was not certified by peer review)"}, {"text": "The copyright holder for this preprint this version posted July 5, 2020. . https://doi.org/10.1101/2020.06.29.20143180 doi: medRxiv preprint infected patients' IDs and a temporal threshold, the contact tracing algorithm begins 145 (2) . Then, the algorithm retrieves the persons who visited the same location with the 146 infected patients (3) . In this case, persons 2391 and 2013 have been at the same place 147 153242 with the infected patient 3018. After that, the algorithm computes the infection 148 probabilities for the overlapped persons (4). The person 2391 was in location 153242 at 149 19:45 while the infected patient 3018 was in the same location at 12:32. Therefore, their 150 time gap is larger than the temporal threshold (i.e., 60 minutes). The person 2013 was 151 in location 563421 at 16:31 and the infected patient 3018 was in the same location at . CC-BY-ND 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.", "cite_spans": [], "ref_spans": [], "section": "(which was not certified by peer review)"}, {"text": "The copyright holder for this preprint this version posted July 5, 2020. . CC-BY-ND 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.", "cite_spans": [], "ref_spans": [], "section": "(which was not certified by peer review)"}, {"text": "The copyright holder for this preprint this version posted July 5, 2020. . https://doi.org/10.1101/2020.06.29.20143180 doi: medRxiv preprint 168 The f indLocations function is described in Algorithm 2. . CC-BY-ND 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.", "cite_spans": [{"start": 141, "end": 144, "text": "168", "ref_id": null}], "ref_spans": [], "section": "(which was not certified by peer review)"}, {"text": "The copyright holder for this preprint this version posted July 5, 2020. . Visualization system 178 We implemented a web-based GUI system to visualize the privacy-preserving contact 179 tracing workflow. The system is implemented with python and django [20] for the 180 back-end server, and force-directed graph [21] and d3.js [22] for the front-end side. The 181 overview of our visualization system is depicted in In PPCT executor (Fig 5 (B) ), you can choose infected patients and execute the 191 privacy-preserving contact tracing query with a time-threshold. After the query is 192 submitted, the processor redistributes the workload to multi-cores. The processing 193 phase of each core is represented in the progress bars.", "cite_spans": [{"start": 96, "end": 99, "text": "178", "ref_id": null}, {"start": 253, "end": 257, "text": "[20]", "ref_id": null}, {"start": 312, "end": 316, "text": "[21]", "ref_id": null}, {"start": 327, "end": 331, "text": "[22]", "ref_id": null}], "ref_spans": [{"start": 433, "end": 443, "text": "(Fig 5 (B)", "ref_id": "FIGREF16"}], "section": "(which was not certified by peer review)"}, {"text": "In Tracing result table (Fig. 5 (C) ), columns denote the locations and rows denote 195 the persons' IDs. As has been stated above, the locations and the time data are records varying the number of CPU cores. Twenty-cores improve the performance about 203 ten times faster. As the main workload of the query processing is independently 204 computing the distance between ciphertext and secret key, the encrypted dataset can be 205 simply divided into the number of cores. Our system is easily applicable to much bigger 206 dataset if enough CPU cores are provided. As the computation of the decryption is 207 independently executable, not only multi-core processing but also distributed computing 208 can be applied to reduce the query processing time. An interesting future work would 209 be a delegatable version of safe contact tracing query to support multi source 210 environment. To handle multi source datasets safely, each dataset should be encrypted 211 with different keys to prevent attacks from other data sources. We hope a very recent 212 work [23] to be a key reasearch for the delegatable safe contact tracing query.", "cite_spans": [{"start": 1058, "end": 1062, "text": "[23]", "ref_id": "BIBREF22"}], "ref_spans": [{"start": 24, "end": 35, "text": "(Fig. 5 (C)", "ref_id": "FIGREF16"}], "section": "194"}, {"text": "In this paper, we proposed a privacy-preserving contact tracing method for COVID-19 215 based on a functional encryption technique, where the suspected contacts of infected 216 patients can be retrieved without privacy breaches. To efficiently processing, we 217 introduce optimization techniques and parallel processing. A visualization system is also 218 designed to visualize the workflow of contact tracing. . CC-BY-ND 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity. (which was not certified by peer review)", "cite_spans": [], "ref_spans": [], "section": "214"}, {"text": "The copyright holder for this preprint this version posted July 5, 2020. . https://doi.org/10.1101/2020.06.29.20143180 doi: medRxiv preprint S2 Appendix. IPE encryption / decryption algorithm.", "cite_spans": [], "ref_spans": [], "section": "214"}, {"text": "Input : Vector size n, prime number p, two distinct cyclic groups of p order G 1 , G 2 Output : master secret key msk 1 g 1 \u2190 random element in G 1 2 g 2 \u2190 random element in G 2 3 B \u2190 random n * n matrix 4 detB \u2190 determinant of matrix B 5 Bstar \u2190 detB * inverse matrix of B 6 msk \u2190 (detB, B, Bstar, g 1 , g 2 ) 7 return msk . CC-BY-ND 4.0 International license It is made available under a is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity. (which was not certified by peer review)", "cite_spans": [], "ref_spans": [], "section": "Algorithm 3: Setup"}, {"text": "The copyright holder for this preprint this version posted July 5, 2020. .", "cite_spans": [], "ref_spans": [], "section": "Algorithm 3: Setup"}], "bib_entries": {"BIBREF0": {"ref_id": "b0", "title": "COVID-19 pandemic", "authors": [{"first": "", "middle": [], "last": "Wikipedia", "suffix": ""}], "year": 2020, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF1": {"ref_id": "b1", "title": "Schengen Area Crisis: EU States Close Borders as Coronavirus Outbreak Grips Bloc", "authors": [{"first": "S", "middle": ["V"], "last": "Information", "suffix": ""}], "year": 2020, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF2": {"ref_id": "b2", "title": "Life Has to Go On': How Sweden Has Faced the Virus Without a Lockdown", "authors": [{"first": "N", "middle": ["Y"], "last": "Times", "suffix": ""}], "year": 2020, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF3": {"ref_id": "b3", "title": "WHO) WHO. Novel Coronavirus-China", "authors": [], "year": 2020, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF4": {"ref_id": "b4", "title": "Like a zombie apocalypse': Residents on edge as coronavirus cases surge in South Korea", "authors": [{"first": "T", "middle": [], "last": "Reuters", "suffix": ""}], "year": 2020, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF5": {"ref_id": "b5", "title": "CDC) P. The Updates of COVID-19 in Republic of Korea As of 28", "authors": [], "year": 2020, "venue": "Disease Control KC", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF6": {"ref_id": "b6", "title": "How South Korea's Coronavirus Outbreak Got so Quickly out of Control", "authors": [], "year": 2020, "venue": "Times", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF7": {"ref_id": "b7", "title": "South Korea's coronavirus lessons: Quick, easy tests; monitoring", "authors": [{"first": "A", "middle": [], "last": "Jazeera", "suffix": ""}], "year": 2020, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF8": {"ref_id": "b8", "title": "Korea reports lowest number of new cases in four weeks", "authors": [{"first": "", "middle": [], "last": "Bbc", "suffix": ""}, {"first": "", "middle": [], "last": "South", "suffix": ""}], "year": 2020, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF9": {"ref_id": "b9", "title": "Anonymizing NYC Taxi Data: Does It Matter?", "authors": [{"first": "M", "middle": [], "last": "Douriez", "suffix": ""}, {"first": "H", "middle": [], "last": "Doraiswamy", "suffix": ""}, {"first": "J", "middle": [], "last": "Freire", "suffix": ""}, {"first": "C", "middle": ["T"], "last": "Silva", "suffix": ""}], "year": 2016, "venue": "2016 IEEE International Conference on Data Science and Advanced Analytics", "volume": "", "issn": "", "pages": "140--148", "other_ids": {}}, "BIBREF11": {"ref_id": "b11", "title": "Efficient Suspected Infected Crowds Detection Based on Spatio-Temporal Trajectories", "authors": [{"first": "H", "middle": [], "last": "He", "suffix": ""}, {"first": "R", "middle": [], "last": "Li", "suffix": ""}, {"first": "R", "middle": [], "last": "Wang", "suffix": ""}, {"first": "J", "middle": [], "last": "Bao", "suffix": ""}, {"first": "Y", "middle": [], "last": "Zheng", "suffix": ""}, {"first": "T", "middle": [], "last": "Li", "suffix": ""}], "year": 2020, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF12": {"ref_id": "b12", "title": "Contact Tracing Mobile Apps for COVID-19: Privacy Considerations and Related Trade-offs", "authors": [{"first": "H", "middle": [], "last": "Cho", "suffix": ""}, {"first": "D", "middle": [], "last": "Ippolito", "suffix": ""}, {"first": "Y", "middle": ["W"], "last": "Yu", "suffix": ""}], "year": 2020, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF13": {"ref_id": "b13", "title": "Anonymous collocation discovery:taming the coronavirus while preserving privacy", "authors": [{"first": "R", "middle": [], "last": "Canetti", "suffix": ""}, {"first": "A", "middle": [], "last": "Trachtenberg", "suffix": ""}, {"first": "M", "middle": [], "last": "Varia", "suffix": ""}], "year": 2020, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF14": {"ref_id": "b14", "title": "Apple's and Google's COVID-19 contact tracing technology", "authors": [], "year": null, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF15": {"ref_id": "b15", "title": "Decentralized privacy-preserving proximity tracing overview of data protection and security", "authors": [{"first": "C", "middle": [], "last": "Troncoso", "suffix": ""}], "year": 2020, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF16": {"ref_id": "b16", "title": "Functional Encryption: Definitions and Challenges", "authors": [{"first": "D", "middle": [], "last": "Boneh", "suffix": ""}, {"first": "A", "middle": [], "last": "Sahai", "suffix": ""}, {"first": "B", "middle": [], "last": "Waters", "suffix": ""}], "year": 2011, "venue": "Theory of Cryptography", "volume": "", "issn": "", "pages": "253--273", "other_ids": {}}, "BIBREF17": {"ref_id": "b17", "title": "Gowalla check-in dataset", "authors": [], "year": 2020, "venue": "", "volume": "", "issn": "", "pages": "", "other_ids": {}}, "BIBREF18": {"ref_id": "b18", "title": "Function-Hiding Inner Product Encryption Is Practical", "authors": [{"first": "S", "middle": [], "last": "Kim", "suffix": ""}, {"first": "K", "middle": [], "last": "Lewi", "suffix": ""}, {"first": "A", "middle": [], "last": "Mandal", "suffix": ""}, {"first": "H", "middle": [], "last": "Montgomery", "suffix": ""}, {"first": "A", "middle": [], "last": "Roy", "suffix": ""}, {"first": "D", "middle": ["J"], "last": "Wu", "suffix": ""}], "year": 2018, "venue": "Security and Cryptography for Networks", "volume": "", "issn": "", "pages": "544--562", "other_ids": {}}, "BIBREF22": {"ref_id": "b22", "title": "Delegatable Order-Revealing Encryption", "authors": [{"first": "Y", "middle": [], "last": "Li", "suffix": ""}, {"first": "H", "middle": [], "last": "Wang", "suffix": ""}, {"first": "Y", "middle": [], "last": "Zhao", "suffix": ""}], "year": 2019, "venue": "Proceedings of the 2019 ACM Asia Conference on Computer and Communications Security. Asia CCS '19", "volume": "", "issn": "", "pages": "134--147", "other_ids": {"DOI": ["10.1145/3321705.3329829"]}}}, "ref_entries": {"FIGREF0": {"text": "shows the numbers of total cases of COVID-19 over countries which are early detected8 or currently most highly infected. After the outbreak in Wuhan, China, in December 9 2019 [4], the virus was first confirmed to have spread to South Korea on 20 January 10 Fig 1. COVID-19 total cases (8. June. 2020) The number of COVID-19 total cases over countries (the early detected countries: China, South Korea, Sweden, and Italy; the most highly infected countries: Iran, Spain, France, United States, United Kingdom, and Brazil).", "latex": null, "type": "figure"}, "FIGREF1": {"text": "Quarantine workflow of South Korea. -We use the credit card payment data as the trajectory source (time and 46 location). The trajectory data (i.e., person ID 1 , time and location) are stored 47 in an encrypted form by using a functional encryption technique. Since the 48 trajectory data are encrypted, the time and location privacy of people is 49 preserved. However, the functional encryption scheme allows us to check a 50 person visits the same place at the same time (with a specified time gap) 51 with given confirmed cases' trajectory.", "latex": null, "type": "figure"}, "FIGREF2": {"text": "where the suspected people are detected in real time represented as an infection 63 graph. The GUI system displays the progress of the contact tracing and shows the 65 contamination relation among contacts and confirmed cases into dynamically 66 changing graphs. Also, the probability of contamination is displayed 67 quantitatively for each contact, and the contamination sites are retrieved 68 automatically. In the paper,we use the card number as the person ID.", "latex": null, "type": "figure"}, "FIGREF3": {"text": "92 the inner product encryption (IPE) for this purpose. The IPE is a special case of 93 functional encryption where both secret keys and ciphertexts are associated with vectors. 94 The combination of a secret key sk x for a vector x and a ciphertexts ct y for a vector y 95 reveal only (x \u00b7 y), not anymore about plaintext x or y. An inner product encryption 96 scheme is function-hiding if the keys and ciphertexts reveal no additional information 97 about both x and y beyond their inner product. The secret key and ciphertext which 98 are presented as vectors, are modified to compute the distance over the encrypted 99 dataset. The details of encryption and decryption for IPE are described in Appendix.", "latex": null, "type": "figure"}, "FIGREF5": {"text": "A trajectory t o of a moving object o is a set of pairs of locations and 105 time, where location l", "latex": null, "type": "figure"}, "FIGREF7": {"text": "111 demonstrating our system. The detailed description of the dataset is introduced in", "latex": null, "type": "figure"}, "FIGREF8": {"text": "Privacy-preserving contact tracing workflow.", "latex": null, "type": "figure"}, "FIGREF9": {"text": "Example of contact tracing with functional encryption techniques The location IDs are decomposed into digits and separately encrypted. The time values are transformed into ordinal numbers and then encrypted. When a set of confirmed IDs is given, the algorithm finds possible contacts by checking the location match and time overlap (within the given threshold 60 min) compared with those of the confirmed cases. query executor retrieves the possible contacts of infected patients and returns the list of 129 contacts with their infection probabilities.", "latex": null, "type": "figure"}, "FIGREF10": {"text": "set of encrypted trajectories T = {t 1 1 , t 1 2 , ..., t m n }, a set of infected persons 132 I = {i 1 , i 2 , ..., i k }, and time threshold \u03b8, a privacy-preserving contact tracing P P CT 133 retrieves a set of persons U = {u 1 , u 2 , ...} whose infection probability p l u,i k is greater 134 than zero. The infect probability of a person u from the infected i k at the location l i is 135 defined as Eq. 1 136 p l u,i k = min(1, (1 \u2212 timegap(u, i k )/\u03b8)), if both u and i k visited l 0, otherwise", "latex": null, "type": "figure"}, "FIGREF11": {"text": "reasons, we check location overlap first, and then compute the time gap.138 Fig. 4 describes an example showing how the PPCT algorithm works. First, card 139 payment data are stored as an encrypted form (1). The location is encrypted as a 140decomposed form. In that, each digit is encrypted as an individual cipher-text. We just 141 notate an alphabet in this example, the real cipher-text is more complicated. Note that 142 the same location 153242 can encrypted into different cipher-texts because the 143 encryption method is not deterministic. When the PPCT query is given as a set of", "latex": null, "type": "figure"}, "FIGREF12": {"text": ". Because their time gap is shorter than the 60 minutes, their infection probability 153 is one third. If the person 2013 and the infected patient 3018 have visited at 563421 154 several times, the probability will be summed. Surely, the visit time and location are 155 not disclosed in a plain-text form. When the infection probability computation is done 156 for every overlapped visit, the list of possible contacts and their infection probabilities is 157 returned (5).", "latex": null, "type": "figure"}, "FIGREF14": {"text": "Privacy-preserving contact tracing PPCT(ids, \u03b8) Input : List of infected persons' ID ids, Temporal threshold \u03b8 Output : Set of suspected persons rs Global : Secretkey list skxs , ciphertext list ctys, locations, visitorsList n \u2190 num of records in skxs(or ctys) m \u2190 domain size of location1 infectedIdx \u2190 [] 2 for i \u2190 0 to n \u2212 1 do 3 if skxs[pid][i] in ids then 4 infectedIdx \u2190 [infectedIdx, i] 5 newLocations, oldLocations \u2190 findLocations(infectedIdx) 6 if len(newLocations) = 0 then 7 for i \u2190 0 to n \u2212 1 do 8 meetFlag \u2190 False 9 for j \u2190 0 to len(newLocations) \u2212 1 do 10 if meetFlag == True then 11 break 12 index \u2190 newLocations[j] 13 if decrypt(skxs[location][index], ctys[location][i], m 2 ) = 0 then 14 continue 15 visitorsList[j] \u2190 [visitorsList[j], i] 16 meetFlag \u2190 True 17 time dif f \u2190 decrypt(skxs[time][index], ctys[time][i], \u03b8 2 )18 if time dif f = \u22121 and time dif f \u2264 \u03b8 then 19 add (locations[j], ctys[pid][i], time dif f ) to rs 20 for i \u2190 0 to len(oldLocations) \u2212 1 do 21 if len(oldLocations[i]) == 0 then 22 continue 23 indexes \u2190 oldLocations[i] 24 visitors \u2190 vistorsList[i] 25 for j \u2190 0 to len(indexes) \u2212 1 do 26 index \u2190 indexes[j] 27 for v \u2190 0 to len(visitors) \u2212 1 do 28 visitor \u2190 visitors[v] 29 time dif f \u2190 decrypt(skxs[time][index], ctys[time][visitor], \u03b8 2 ) 30 if time dif f = \u22121 and time dif f \u2264 \u03b8 then 31 add (locations[i], ctys[pid][visitor], time dif f ) to rs 32 return rs 159 First, P P CT finds the index of confirmed cases (line 1-4). Then, P P CT checks if a 160 person visits the place where infected patients visited (line 8). If result of decrypt 161 function is 0, it means that secret key and ciphertext are the same (line 13). We store 162 the places where the person visited to skip the decryption next time (line 15). The 163 algorithm finds the person who has contacted with the infected persons at newLocations 164 (line 7-19). Then, P P CT calculates the time gap between the person and the infected 165 (line 17, 29). Lastly, we find the person who has contacted with the infected patients at 166 oldLocations (line 20-31).", "latex": null, "type": "figure"}, "FIGREF15": {"text": "Secretkey list skxs, ciphertext list ctys, locations, visitors n \u2190 num of records in skxs(or ctys) m \u2190 domain size of location 1 newLocations \u2190 [] 2 oldLocations \u2190 [[], [], . . . ] 3 for i \u2190 0 to len(infectedIdx) , we store the index of infected patients who visited place newLocation which 171 has never been investigated yet (line 1) and oldLocations (line 2). And then, the 172 algorithm checks if the place has been investigated (line 5). If result of decrypt function 173 is 0, it means secret key and ciphertext are the same (line 7). If the infected patients 174 visit investigated place, add index to oldLocations (line 8-10). If the infected patients 175 visit not investigated place, add index to newLocations and update locations, 176 visitorList, and oldLocations (line 11-15).", "latex": null, "type": "figure"}, "FIGREF16": {"text": "Visualization system. (A) Infection graph; Infected patients and their contacts are depicted as a graph. (B) PPCT executor; The progress of privacy-preserving contact tracing is displayed where a bar represents a piece of CPU core. The progress bars of each core are on the right side. (C) Tracing result table; The infection probability of a person is represented as a wave in a circle.", "latex": null, "type": "figure"}, "FIGREF17": {"text": "The system is composed of 182 three parts (i.e. (A) Infection graph, (B) PPCT Executor, (C) Tracing result table). 183 In the infection graph (Fig 5 (A)), the infected patients and their contacts are 184 described as nodes of graph. Infected patients are colored and the contacts are 185 gray-colored. The edges connecting the nodes signify that they have been at the same 186 location in the time-threshold gap. The moving small dots on the edges represent the 187 infection probability. The higher infection probability is, the faster small dots move 188 along the edges. Users might recognize easily the more suspected contacts by the 189 movement of the small dots. The animation is available on the videos in Appendix.", "latex": null, "type": "figure"}, "FIGREF19": {"text": "196encrypted. An infection probability of a person is depicted as a wave in a circle. For197 example, in the second row and second column of Fig. 5 (C), person 90713 was with the 198 gray-colored infected patient (8865). However, the wave shows only 2% of infection", "latex": null, "type": "figure"}, "FIGREF20": {"text": "Query processing time varying the number of multi-cores. probability from the person 90713.", "latex": null, "type": "figure"}, "FIGREF21": {"text": ". 6 shows the processing time of privacy-preserving contact tracing on 100,000 202", "latex": null, "type": "figure"}, "FIGREF23": {"text": "Keygen Input : Master secret key msk, plaintext x, prime number p Output : Secret key skx 1 x \u2190 [ x \u00b7 x, \u22122 x, 1] 2 detB, B, Bstar, g 1 , g 2 \u2190 msk 3 n \u2190 len( x) 4 \u03b1 \u2190 random value in the ring of integers modulo p 5 k 1 \u2190 [0, 0, ..., 0] k 1 's length is n 6 for j \u2190 0 to n \u2212 1 do 7 sum \u2190 0 8 for i \u2190 0 to n \u2212 1 do 9 sum \u2190 sum + ( x[i] * B[i][j]) 10 k 1 [j] \u2190 \u03b1 * sum 11 for i \u2190 0 to n \u2212", "latex": null, "type": "figure"}, "TABREF0": {"text": "We modified the time period of dataset into one day because the period of two 113 years is not appropriate for contact tracing of COVID-19. The dataset is encrypted with 114 the inner product encryption (IPE) technique[19].Table 1. Description of Gowalla dataset.", "latex": null, "type": "table"}, "TABREF1": {"text": "shows decryption time and encryption time of IPE. Although the number of 117 unique values does not effect on the encryption time, the decryption time gets 118 drastically slower. This is due to the fact that the time complexity of IPE decryption 119 (Appendix) is O(n 2 ). To improve the performance of decryption, we propose a method 120 of decomposing the location ID and visit time into digits. (e.g. 12345 \u2192 1, 2, 3, 4, 5)", "latex": null, "type": "table"}, "TABREF2": {"text": "Encryption and decryption time of IPE.", "latex": null, "type": "table", "html": "<html><body><table><tr><td>Domain size </td><td>Encryption time\n(seconds)\n</td><td>Decryption time\n(seconds)\n</td><td>ND applied\ndecryption time\n(seconds)\n</td></tr><tr><td>101 </td><td>0.1 </td><td>0.01 </td><td>0.01\n</td></tr><tr><td>102 </td><td>0.1 </td><td>0.1 </td><td>0.02\n</td></tr><tr><td>103 </td><td>0.1 </td><td>12.6 </td><td>0.03\n</td></tr><tr><td>104 </td><td>0.1 </td><td>1595.7 </td><td>0.04\n</td></tr><tr><td>105 </td><td>0.1 </td><td>202957.2 </td><td>0.05\n</td></tr></table></body></html>"}, "TABREF3": {"text": "Table 1. Description of Gowalla dataset.", "latex": null, "type": "table", "html": "<html><body><table><tr><td>The number of people </td><td>107,092\n</td></tr><tr><td>The number of locations </td><td>1,280,969\n</td></tr><tr><td>Check-ins </td><td>6,442,892\n</td></tr><tr><td>Time period </td><td>2 year\n</td></tr></table></body></html>"}}, "back_matter": [{"text": "Input : Master secret key msk, plaintext y, prime number p Output : Ciphertext ct y 1 y \u2190 [1, y, y \u00b7 y] 2 detB, B, Bstar, g 1 , g 2 \u2190 msk 3 n \u2190 len( y) 4 \u03b2 \u2190 random value in the ring of integers moduloEncryption : generate cipherTexts (ct y ) 232 6 -10 : make \u03b2 * y \u00b7 Bstar 233 11 -12 : make c 1 = g \u03b2 * y\u00b7Bstar 2 234 13 : make c 2 = g \u03b2", "cite_spans": [], "ref_spans": [], "section": "Algorithm 5: Encryption"}, {"text": "Input : A mapping function e satisfying condition C, secret key sk x , ciphertext ct y , maximum inner product value M Output : dist(sk x , ct y ) ", "cite_spans": [], "ref_spans": [], "section": "Algorithm 6: Decryption"}]}